<!DOCTYPE html>
<html lang="en">
	<head>

		<meta charset="utf-8">

		<title>Scarefactory - Fear is our business</title>

        <script src="js/objectWatch.js" type="text/javascript"></script>

		<!-- jQuery -->
		<script src="js/jquery.min.js" type="text/javascript"></script>
		<script src="js/jqueryui.min.js" type="text/javascript"></script>

		<!-- fancybox -->
		<script src="js/fancybox.min.js" type="text/javascript"></script>
		<link href="css/fancybox.css" rel="stylesheet">

		<!-- three JS -->
		<script src="js/three.js" type="text/javascript"></script>


		<!-- own JS -->
		<script src="js/soundManager.js" type="text/javascript"></script>
		<script src="js/monsterShader.js" type="text/javascript"></script>
		<script src="js/OrbitControls.js" type="text/javascript"></script>
		<script src="js/SaveGameHandler.js" type="text/javascript"></script>
		<script src="js/monster.js" type="text/javascript"></script>
		<script src="js/mission.js" type="text/javascript"></script>
		<script src="js/missionmanager.js" type="text/javascript"></script>
		<script src="js/shop.js" type="text/javascript"></script>
		<script src="js/game.js" type="text/javascript"></script>

		<!-- own CSS -->
		<link href="css/styles.css" rel="stylesheet">

	</head>

	<body>

		<div id="preloader" style="text-align: center; margin-top: 200px;">
			<img src="assets/preloading.jpg" />
		</div>

		<div id="game">
			<canvas id="myCanvas" width="200" height="100" style="display:none"></canvas>

			<div id="cash">10000 $</div>
			<div id="clock">0</div>

			<div id="sidebar">
				<h1>Your Monsters</h1>
				<div id="monsters"></div>
				<div class="shop" onclick="monsterNameSpace.shop.renderDialog()">Shop</div>
			</div>	
		</div>
			
	</body>

	<script>
		$(document).ready(function(){

			// Usage:

			preload({
			    1: 'assets/textures/earthmap1k.jpg',
			    2: 'assets/textures/earthbump1k.jpg',
			    3: 'assets/textures/earthspec1k.jpg',
			    4: 'assets/textures/earthspec1k.jpg',
			    5: 'assets/textures/earthspec_small_debug.jpg',
			    6: 'assets/textures/Earth-Clouds2700.jpg',
			    7: 'assets/textures/earthlights1k.jpg'
			}, 1);

			function preload(list, i) {
				if(list[i])
				{
				    image = new Image();
					image.src = list[i];
					image.onload = function(){
						console.log(list[i]+' loaded.');
						i++;
						preload(list, i);
				    }
				}
				else
				{
					$('#preloader').hide();
					$('#game').show();
					startGame();
				}
			}

			function startGame()
			{
				game = new monsterNameSpace.Game('Scare Factory');
			    game.start();
			    $('#sidebar #monsters').height($(window).height()-120);
			}
		});
	</script>

</html>